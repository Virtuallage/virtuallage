<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" 
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition template="/template/main_template.xhtml" 
	xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:p="http://primefaces.org/ui">
	
<ui:define name="title">
Business Parameters
</ui:define>

<ui:define name="content">	
	<p:panel id="panel" header="Business Parameters">	
	<p:tabView>
		<p:tab id="institutionInfoTab" title="Institution Information">
		<h:form id="institutionInfoForm" >
			<p:panelGrid style="width:100%;border:0px;">
				
				<p:row>
					<p:column styleClass="label" style="width:15%">
						<p:outputLabel value="Institution Name" for="institutionName" />
					</p:column>
					<p:column styleClass="data" style="width:35%">
						<p:inputText value="#{institutionInfoBean.institution.institutionName}" 
						id="institutionName" required="true" />
					</p:column>
					<p:column styleClass="label" style="width:15%">
						<p:outputLabel value="Initial" for="initial" />
					</p:column>
					<p:column styleClass="data" style="width:35%">
						<p:inputText value="#{institutionInfoBean.institution.initial}"
							style="width:100px" id="initial" required="true" />
					</p:column>
				</p:row>
					
				<p:row>
					<p:column styleClass="label">
						<p:outputLabel value="Contact Title / Name" />
					</p:column>
					<p:column colspan="3" styleClass="data">
						<p:selectOneMenu id="contactTitle" value="#{institutionInfoBean.institution.contactPersonTitle}" 
							 required="true" style="width:100px" label="Contact Title">  
							<f:selectItems value="#{institutionInfoBean.contactTitleList}"/>
						</p:selectOneMenu>
						&nbsp;
						<p:inputText value="#{institutionInfoBean.institution.contactPerson}" required="true" 
							id="contactPerson" style="width:300px" label="Contact Name" />
					</p:column>
				</p:row>
				
				<p:row>
					<p:column styleClass="label">
						<p:outputLabel value="Address Line 1" for="address1"/>
					</p:column>
					<p:column styleClass="data">
						<p:inputText id="address1" value="" required="true"/>
					</p:column>
					<p:column styleClass="label">
						<p:outputLabel value="Mobile No" for="mobileNo" />
					</p:column>
					<p:column styleClass="data">
						<p:inputText id="mobileNo" value="#{institutionInfoBean.institution.contactPersonMobile}" required="true"/>
					</p:column>
				</p:row>
				
				<p:row>
					<p:column styleClass="label">
						<p:outputLabel value="Address Line 2" for="address2" />
					</p:column>
					<p:column styleClass="data">
						<p:inputText id="address2" value="" required="true"/>
					</p:column>
					<p:column styleClass="label">
						<p:outputLabel value="Email" for="email"/>
					</p:column>
					<p:column styleClass="data">
						<p:inputText id="email" value="#{institutionInfoBean.institution.contactPersonEmail}" required="true"/>
					</p:column>
				</p:row>
				
				<p:row>
					<p:column styleClass="label">
						<p:outputLabel value="Address Line 3" for="address3"/>
					</p:column>
					<p:column styleClass="data">
						<p:inputText id="address3" value="" required="true"/>
					</p:column>
					<p:column styleClass="label">
						<p:outputLabel value="Currency Symbol" for="currencySymbol"/>
					</p:column>
					<p:column styleClass="data">
						<p:inputText id="currencySymbol" value="#{institutionInfoBean.institution.currencySymbol}" required="true"/>
					</p:column>
				</p:row>
				
				<p:row>
					<p:column styleClass="label">
						<p:outputLabel value="Post Code / City" />
					</p:column>
					<p:column styleClass="data">
						<p:inputText id="postCode" value="" style="width:100px" required="true"/>
						&nbsp;
						<p:selectOneMenu id="city" value="#{institutionInfoBean.institution.contactPersonTitle}" 
							 required="true" style="width:200px" label="Contact Title">  
							<f:selectItems value="#{institutionInfoBean.cityList}" />
						</p:selectOneMenu>
					</p:column>
					<p:column styleClass="label">
						<p:outputLabel value="Date Format" for="dateFormat" />
					</p:column>
					<p:column styleClass="data">
						<p:selectOneMenu id="dateFormat" required="true" value="#{institutionInfoBean.institution.contactPersonTitle}" converter="institution">
							<f:selectItems value="#{institutionInfoBean.contactTitleList}" var="ins" itemLabel="#{ins.institutionName}" itemValue="#{ins}" />
						</p:selectOneMenu>
					</p:column>
				</p:row>
				
				<p:row>
					<p:column styleClass="label">
						<p:outputLabel value="State" for="state"/>
					</p:column>
					<p:column styleClass="data">
						<p:selectOneMenu id="state" value="#{institutionInfoBean.institution.contactPersonTitle}" 
							 required="true" style="width:200px">  
							<f:selectItems value="#{institutionInfoBean.stateList}" />
						</p:selectOneMenu>
					</p:column>
					<p:column styleClass="label">
						<p:outputLabel value="Password Retry" for="passwordRetry"/>
					</p:column>
					<p:column styleClass="data">
						<p:inputText id="passwordRetry" value="" required="true"/>
					</p:column>
				</p:row>
				
				<p:row>
					<p:column styleClass="label">
						<p:outputLabel value="Country" for="country" />
					</p:column>
					<p:column styleClass="data">
						<p:selectOneMenu id="country" value="#{institutionInfoBean.institution.contactPersonTitle}" 
							 required="true" style="width:200px">  
							<f:selectItems value="#{institutionInfoBean.countryList}" />
						</p:selectOneMenu>
					</p:column>
					<p:column styleClass="label">
						<p:outputLabel value="Status" for="status"/>
					</p:column>
					<p:column styleClass="data">
						<p:inputText id="status" value="#{institutionInfoBean.institution.status}" style="width:100px" required="true"/>
						&nbsp;
						<p:inputText value="" style="width:100px" required="true"/>
					</p:column>
				</p:row>
				
				<p:row>
					<p:column colspan="4">
						<p:commandButton id="cancelButton" action="#{institutionInfoBean.onCancel}" value="Cancel" ajax="false"/>
						&nbsp;
						<p:commandButton id="saveButton" action="#{institutionInfoBean.onSave}" value="Save" ajax="false"/>
					</p:column>
				</p:row>
				
			</p:panelGrid>
	    </h:form>
	    </p:tab>
	  
	    <p:tab id="generalCodeTab" title="General Code">
        	<h:form id="generalCodeForm" >
        		<h:panelGrid columns="3" style="width:50%;align:left">
			
					<p:outputLabel value="General Code Type" for="searchCodeType" />
					<h:selectOneMenu value="#{generalCodeBean.codeType}" style="width:200px" 
						required="true" id="searchCodeType">  
                        <f:selectItems value="#{generalCodeBean.codeHeaderList}" />
                    </h:selectOneMenu>
					<p:commandButton id="searchButton" action="#{generalCodeBean.onSearch}" 
						value="Search" update="codeDetDataTable"/>
			
				</h:panelGrid> 
        	
        		<p:dataTable var="codeDet" value="#{generalCodeBean.codeDetList}" id="codeDetDataTable" editable="true">  
		  
					<p:ajax event="rowEdit" listener="#{generalCodeBean.onEdit}" />  
			        <p:ajax event="rowEditCancel" listener="#{generalCodeBean.onCancel}" /> 
       	  
			        <p:column headerText="Type" style="width:15%">  
			            <p:cellEditor>
			                <f:facet name="output">
			                    <h:outputText value="#{codeDet.id.codeHeaderId}" />
			                </f:facet>  
			                <f:facet name="input">
			                    <h:outputText value="#{codeDet.id.codeHeaderId}" />
			                </f:facet>  
			            </p:cellEditor>  
			        </p:column>  
			  
			        <p:column headerText="Name" style="width:20%">  
			            <p:cellEditor>
			                <f:facet name="output">  
			                    <h:outputText value="#{codeDet.codeHeader.name}" />
			                </f:facet>
			                <f:facet name="input">
			                	<h:outputText value="#{codeDet.codeHeader.name}" />
			                </f:facet>
			            </p:cellEditor>  
			        </p:column>  
			  
			        <p:column headerText="Value" style="width:10%">  
			            <p:cellEditor>  
			                <f:facet name="output">  
			                    <h:outputText value="#{codeDet.id.code}" />
			                </f:facet>  
			                 <f:facet name="input">  
			                    <h:outputText value="#{codeDet.id.code}" />
			                </f:facet>
			            </p:cellEditor>  
			        </p:column>  
			  
			        <p:column headerText="Description" style="width:30%">  
			            <p:cellEditor>  
			                 <f:facet name="output">  
			                    <h:outputText value="#{codeDet.description}" />  
			                </f:facet>  
			                 <f:facet name="input">  
			                    <p:inputText value="#{codeDet.description}" style="width:100%" />  
			                </f:facet>
			            </p:cellEditor>  
			        </p:column>  
			        
			         <p:column headerText="Status" style="width:15%">  
			            <p:cellEditor>  
			                <f:facet name="output">  
			                    <h:outputText value="#{codeDet.status}" />  
			                </f:facet>  
			                <f:facet name="input">  
			                    <h:selectOneMenu value="#{codeDet.status}" style="width:100%">  
			                        <f:selectItems value="#{generalCodeBean.statusList}" />
			                    </h:selectOneMenu>  
			                </f:facet>  
			            </p:cellEditor>  
			        </p:column> 
			  
			        <p:column style="width:10%">  
			            <p:rowEditor />  
			             <p:commandButton id="deleteButton" action="#{generalCodeBean.onDelete}" value="Delete" ajax="false">
                			<f:setPropertyActionListener value="#{codeDet}" target="#{generalCodeBean.selectedCodeDet}" />
            			</p:commandButton>
			        </p:column>  
		  
			    </p:dataTable>
			    
			    <p:panelGrid id="newCodeDetTable" style="width:100%;display:none">
			    	<p:row>
			    		<p:column style="width:15%">
			    			<h:outputText value="#{generalCodeBean.newCodeDet.id.codeHeaderId}" />
			    		</p:column>
			    		<p:column style="width:20%">
			    			<h:outputText value="#{generalCodeBean.newCodeDet.codeHeader.name}" />
			    		</p:column>
			    		<p:column style="width:10%">
			    			<p:inputText value="#{generalCodeBean.newCodeDet.id.code}" style="width:100%" />
			    		</p:column>
			    		<p:column style="width:30%">
			    			<p:inputText value="#{generalCodeBean.newCodeDet.description}" style="width:100%" />
			    		</p:column>
			    		<p:column style="width:15%">
			    			<h:selectOneMenu value="#{generalCodeBean.newCodeDet.status}" style="width:100%">  
		                        <f:selectItems value="#{generalCodeBean.statusList}" />
		                    </h:selectOneMenu>
			    		</p:column>
			    		<p:column style="width:10%">
			    		
			    		</p:column>
			    	</p:row>	
			    </p:panelGrid>
			    <br/>
			    
			    <p:commandButton value="New" onclick="return false">
				    <p:effect type="fade" event="click" for="newCodeDetTable">
						<f:param name="mode" value="'show'"/>
					</p:effect>
				</p:commandButton>
	        </h:form>
	    </p:tab>
	  
	    <p:tab id="tab3" title="Transaction Code">
	        <h:panelGrid>
	        	<h:form id="form">  
  
				    <p:growl id="messages" showDetail="true"/>  
				  
				    <p:dataTable var="car" value="#{tableBean.carsSmall}" id="carList" editable="true">  
				  
				        <f:facet name="header">  
				            In-Cell Editing  
				        </f:facet>  
				  
				        <p:ajax event="rowEdit" listener="#{generalCodeBean.onEdit}" />  
				        <p:ajax event="rowEditCancel" listener="#{generalCodeBean.onCancel}" />  
				  
				        <p:column headerText="Model" style="width:30%">  
				            <p:cellEditor>  
				                <f:facet name="output">  
				                    <h:outputText value="#{car.model}" />  
				                </f:facet>  
				                <f:facet name="input">  
				                    <p:inputText value="#{car.model}" style="width:100%"/>  
				                </f:facet>  
				            </p:cellEditor>  
				        </p:column>  
				  
				        <p:column headerText="Year" style="width:20%">  
				            <p:cellEditor>  
				                <f:facet name="output">  
				                    <h:outputText value="#{car.year}" />  
				                </f:facet>  
				                <f:facet name="input">  
				                    <p:inputText value="#{car.year}" style="width:100%" label="Year"/>  
				                </f:facet>  
				            </p:cellEditor>  
				        </p:column>  
				  
				        <p:column headerText="Manufacturer" style="width:24%">  
				            <p:cellEditor>  
				                <f:facet name="output">  
				                    <h:outputText value="#{car.manufacturer}" />  
				                </f:facet>  
				                <f:facet name="input">  
				                    <h:selectOneMenu value="#{car.manufacturer}" >  
				                        <f:selectItems value="#{tableBean.manufacturers}"  
				                            var="man"   
				                            itemLabel="#{man}"  
				                            itemValue="#{man}" />  
				                    </h:selectOneMenu>  
				                </f:facet>  
				            </p:cellEditor>  
				        </p:column>  
				  
				        <p:column headerText="Color" style="width:20%">  
				            <p:cellEditor>  
				                <f:facet name="output">  
				                    <h:outputText value="#{car.color}" />  
				                </f:facet>  
				                <f:facet name="input">  
				                    <h:selectOneMenu value="#{car.color}" >  
				                        <f:selectItems value="#{tableBean.colors}"  
				                            var="color"   
				                            itemLabel="#{color}"  
				                            itemValue="#{color}" />  
				                    </h:selectOneMenu>  
				                </f:facet>  
				            </p:cellEditor>  
				        </p:column>  
				  
				        <p:column style="width:6%">  
				            <p:rowEditor />  
				        </p:column>  
				  
				    </p:dataTable>  
				  
				</h:form>  
	        </h:panelGrid>
	    </p:tab>
	</p:tabView>

</p:panel>
</ui:define>
</ui:composition>